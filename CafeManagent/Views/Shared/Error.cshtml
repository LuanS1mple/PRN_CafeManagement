@{
    ViewData["Title"] = "Lỗi hệ thống";
    var message = ViewData["ErrorMessage"] as string;
    var root = ViewData["Root"] as string;
    var time = ViewData["Time"] as DateTime?;
}

<div class="container mt-5">
    <div class="text-center">
        <h1 class="text-danger fw-bold">⚠ Đã xảy ra lỗi</h1>
        <h4 class="text-secondary mt-3">@message</h4>

        @if (time.HasValue)
        {
            <p class="text-muted mt-2">
                <strong>Thời gian:</strong> @time.Value.ToString("HH:mm:ss dd/MM/yyyy")
            </p>
        }

        <hr class="my-4" />

        @* Hiển thị lỗi chi tiết khi ở môi trường Development *@
        @if (Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT") == "Development")
        {
            <div class="alert alert-warning text-start mt-4">
                <h5>Chi tiết lỗi kỹ thuật (chỉ hiển thị trong Development):</h5>
                <pre class="text-danger">@root</pre>
            </div>
        }

        <div class="mt-4">
            <a asp-controller="Home" asp-action="Index" class="btn btn-primary">
                ⬅ Quay lại Trang chủ
            </a>
        </div>
    </div>
</div>
